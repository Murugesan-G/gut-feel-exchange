@using NTCYApplication.Models.Club
@model List<Club>
@{
    ViewBag.Title = "ViewClubDetails";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="mySidenav" class="col-xs-4 col-sm-4 col-md-2 col-lg-2 sidenav">
    @Html.Partial("_left_admin_submenu")
</div>

<div class="col-xs-8 col-sm-8 col-md-10 col-lg-10 main">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 page-title-outer">
        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 page-title"></div>
        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 page-title-btn">

            <a href="@Url.Action("CreateClub", "Club")" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Back">
                <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
            </a>
        </div>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 workarea-outer">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-title">Club Details</div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-responsive  " style="height: 508px;overflow: auto;">
                <table id="TableView" class="table blk-thm-table table-condensed">
                    <thead>
                        <tr>
                            <th style="display:none">Clubid</th>
                            <th>Club Name</th>
                            <th>Registration No</th>
                            <th>Liquor License</th>
                            <th> Restaurant License</th>
                            <th style="display:none"> GST No</th>
                            <th style="display:none">PAN No</th>
                            <th style="display:none">TAN No</th>
                            <th> Mobile Number</th>
                            <th> Contact Person</th>
                            <th> Phone Number</th>
                            <th> Email ID</th>
                            <th style="display:none">Amenities</th>
                            <th style="display:none">About The Club</th>
                            <th>Date Of Incorporation</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>

                            @foreach (var item in Model)
                            {
                            <tr>
                                <td style="display:none">@item.ClubId</td>
                                <td>@item.ClubName</td>
                                <td>@item.RegistrationNumber</td>
                                <td>@item.LiquorLicense</td>
                                <td>@item.RestaurantLicense</td>
                                <td style="display:none">@item.GSTNumber</td>
                                <td style="display:none">@item.PAN</td>
                                <td style="display:none">@item.TAN</td>
                                <td>@item.MobileNumber</td>
                                <td>@item.ContactPerson</td>
                                <td>@item.PhoneNumber</td>
                                <td>@item.EmailID</td>
                                <td style="display:none">@item.Amenities</td>
                                <td style="display:none">@item.About</td>
                                <td>@item.DateOfIncorporation.ToString("dd/MM/yyyy")</td>
                                <td>@Html.ActionLink(" ", "EditClubDetails", "Club", new { ClubId = item.ClubId }, new { @class = "btn-sm btn-primary glyphicon glyphicon-pencil", @title = "Edit", data_toggle = "tooltip", data_placement = "bottom" })</td>
                                <td><button class="btn-sm btn-primary" title="View Detail" type="button" id="btn_ViewDetail" data-toggle="modal" data-target="#ModalClub"><span class="glyphicon glyphicon-list-alt"></span></button></td>
                            </tr>
                            }

                            @*@{
                                if (ViewData["TableList"]!=null) 
                                {
                                    if (ViewData.Values!=null&&ViewData.Values.Count()>0)
                                    {
                                        foreach (var Model in ViewBag.TableList as List<CardTable>)
                                        {
                                        <tr>
                                            <td>@Model.TableNo</td>
                                            <td>@Model.TableName</td>
                                            <td>@Model.Status</td>
                                            <td>@Html.ActionLink(" ", "ViewCardTable", "CardTable", new { TableNo = Model.TableNo }, new { @class = "btn-sm btn-primary glyphicon glyphicon-pencil", @title = "Edit", data_toggle = "tooltip", data_placement = "bottom" })</td>
                                            <td>@Html.ActionLink(" ", "DeleteCardTable", "CardTable", new { TableNo = Model.TableNo }, new { @class = "btn-sm btn-primary glyphicon glyphicon-trash", @title = "Delete", data_toggle = "tooltip", data_placement = "bottom" })</td>
                                        </tr>
                                        }
                                    }
                                    else
                                    {
                                        <tr>
                                            <td>
                                                @ViewBag.message
                                            </td>
                                        </tr>
                                    }
                                }

                            }*@

                            </tr>

                        </tbody>
                    </table>
                </div>
@*///////////////////////////////////////////////////////////////////////////////////*@
     
        <!-- Modal -->
        <div class="modal fade" id="ModalClub" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" style="color:black;font-family:'Bookman Old Style'" id="myModalLabel"><b>Club Details</b></h4>
                    </div>
                    <div style="color:darkslateblue" class="modal-body">
                       @*<table class="table" id="ClubDetailTable">
                        <tbody>                          
                          </tbody>
                       </table>*@
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                       
                    </div>
                </div>
            </div>
        </div>
@*///////////////////////////////////////////////////////////////////////////////////////////////////////////*@
           
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 label-area">
                <p>@ViewBag.message</p>
                <p>@ViewBag.innerEx</p>
            </div>
        </div>
    </div>


<script>

    $("#TableView tbody").on('click', '#btn_ViewDetail', function () {
       // debugger;
        $(".modal-body").empty();
        var currentRow = $(this).closest("tr");
        var clubname = currentRow.find("td:eq(1)").html();
        var RegistrationNumber = currentRow.find("td:eq(2)").html();
        var LiquorLicense = currentRow.find("td:eq(3)").html();
        var RestaurantLicense = currentRow.find("td:eq(4)").html();
        var GSTNumber = currentRow.find("td:eq(5)").html();
        var PAN = currentRow.find("td:eq(6)").html();
        var TAN = currentRow.find("td:eq(7)").html();
        var MobileNo = currentRow.find("td:eq(8)").html();
        var ContactPerson = currentRow.find("td:eq(9)").html();
        var PhoneNo = currentRow.find("td:eq(10)").html();
        var EmailId = currentRow.find("td:eq(11)").html();
        var Amenities = currentRow.find("td:eq(12)").html();
        var About = currentRow.find("td:eq(13)").html();
        var DateOfIncorporation = currentRow.find("td:eq(14)").html();
        var markup ="<b><table id='ViewDetailTable'><tr><td>"+ "ClubName"+"</td><td>" + clubname + "</td></tr>" +"<tr><td>"+ "RegistrationNumber" +"</td><td>"+ RegistrationNumber+"</td></tr><tr><td>"+
          "LiquorLicense"+"</td><td>" + LiquorLicense + "</td></tr><tr><td>" + "RestaurantLicense"+"</td><td>" + RestaurantLicense + "</td></tr><tr><td>" +
            "GSTNumber"+"</td><td>" + GSTNumber + "</td></tr><tr><td>" + "PAN"+"</td><td>" + PAN + "</td></tr><tr><td>" + "TAN"+"</td><td>" + TAN + "</td></tr><tr><td>" + "MobileNo"+"</td><td>" + MobileNo + "</td></tr><tr><td>" +
            "Contact Person"+"</td><td>" + ContactPerson + "</td></tr><tr><td>" + "PhoneNo"+"</td><td>" + PhoneNo + "</td></tr><tr><td>" + "EmailId"+"</td><td>" + EmailId + "</td></tr><tr><td>" +
            "Amenities"+"</td><td>" + Amenities + "</td></tr><tr><td>" + "About"+"</td><td>" + About + "</td></tr><tr><td>" + "DateOfIncorporation"+"</td><td>" + DateOfIncorporation + "</td></tr></table></b>";
        $(".modal-body").append(markup);
       
    })

</script>
<style>
    #ViewDetailTable tr td {
    width:180px;
    }
</style>